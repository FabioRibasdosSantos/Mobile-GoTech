import{_ as f,d as p,I as g,J as h,j as y,l as w,o as _,c as L,w as u,a,e as t,Q as m,K as r,L as b}from"./index.90546432.js";import{Q as V}from"./QForm.d30dcdc5.js";import{Q as q}from"./QPage.e634f182.js";import{u as Q}from"./UseNotify.c52424fc.js";import"./use-quasar.77f91899.js";const v=p({name:"PageLogin",setup(){const s=g(),{login:o,isLoggedIn:n}=h(),{notifyError:i,notifySuccess:d}=Q(),l=y({email:"",password:""});return w(()=>{console.log("mounted"),n&&s.push({name:"me"})}),{form:l,handleLogin:async()=>{try{await o(l.value),d("Login successfuly"),s.push({name:"me"})}catch(c){i(c.message)}}}}}),z={class:"row justify-center q-gutter-y-sm"},S=t("p",{class:"col-12 text-h4 text-center"},"Login",-1),B={class:"col-md-4 col-sm-6 col-xs-10 q-gutter-y-sm"},E={class:"full-width q-pt-md"},$={class:"full-width q-gutter-y-sm"};function C(s,o,n,i,d,l){return _(),L(q,{padding:""},{default:u(()=>[a(V,{onSubmit:b(s.handleLogin,["prevent"])},{default:u(()=>[t("div",z,[S,t("div",B,[a(m,{label:"Email",modelValue:s.form.email,"onUpdate:modelValue":o[0]||(o[0]=e=>s.form.email=e),"lazy-rules":"",rules:[e=>e&&e.length>0||"Email is required"],type:"email",color:"secondary"},null,8,["modelValue","rules"]),a(m,{label:"Senha",modelValue:s.form.password,"onUpdate:modelValue":o[1]||(o[1]=e=>s.form.password=e),"lazy-rules":"",rules:[e=>e&&e.length>=6||"Password is required"],type:"password",color:"secondary"},null,8,["modelValue","rules"]),t("div",E,[a(r,{label:"Login",color:"secondary",class:"full-width",outline:"",rounded:"",size:"lg",type:"submit"})]),t("div",$,[a(r,{label:"Cadastrar",color:"secondary",class:"full-width",rounded:"",flat:"",to:"/register",size:"sm"}),a(r,{label:"Esqueci minha Senha",color:"secondary",class:"full-width",rounded:"",flat:"",to:{name:"forgot-password"},size:"sm"})])])])]),_:1},8,["onSubmit"])]),_:1})}var k=f(v,[["render",C]]);export{k as default};
