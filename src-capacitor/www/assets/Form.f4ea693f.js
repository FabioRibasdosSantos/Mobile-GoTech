import{_ as h,d as w,I as A,aJ as S,g as Q,j as B,l as N,o as U,c as q,w as y,e as n,a as l,Q as u,K as b,L as R}from"./index.625faa3f.js";import{Q as $}from"./QForm.0e818081.js";import{Q as C}from"./QPage.5ab060c6.js";import{u as E}from"./UseApi.74ae8991.js";import{u as F}from"./UseNotify.d4ee6aa9.js";import"./use-quasar.1eadf056.js";const I=w({name:"PageFormAluno",setup(){const a="Aluno",o=A(),m=S(),{post:d,getById:i,update:c}=E(),{notifyError:e,notifySuccess:p}=F(),s=Q(()=>m.params.id);let f={};const t=B({name:"",email:"",ra:""});N(()=>{s.value&&V(s.value)});const v=async()=>{try{s.value?(await c(a,t.value),p("Atualizado com Sucesso")):(await d(a,t.value),p("Salvo com Sucesso")),o.push({name:"aluno"})}catch(r){e(r.message)}},V=async r=>{try{f=await i(a,r),t.value=f}catch(g){e(g.message)}};return{handleSubmit:v,form:t,isUpdate:s}}}),j={class:"row justify-center"},k=n("div",{class:"col-12 text-center"},[n("p",{class:"text-he"}," Aluno ")],-1);function z(a,o,m,d,i,c){return U(),q(C,{padding:""},{default:y(()=>[n("div",j,[k,l($,{class:"col-md-7 col-xs-12 col-sm-12 q-gutter-y-md",onSubmit:R(a.handleSubmit,["prevent"])},{default:y(()=>[l(u,{label:"Name",modelValue:a.form.name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.form.name=e),rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"]),l(u,{label:"Email",modelValue:a.form.email,"onUpdate:modelValue":o[1]||(o[1]=e=>a.form.email=e),rules:[e=>e&&e.length>0||"Email is required"]},null,8,["modelValue","rules"]),l(u,{label:"R.A",modelValue:a.form.ra,"onUpdate:modelValue":o[2]||(o[2]=e=>a.form.ra=e),rules:[e=>!!e||"RA is required"],type:"number"},null,8,["modelValue","rules"]),l(b,{label:a.isUpdate?"Atualizar":"Salvar",color:"secondary",class:"full-width",outline:"",rounded:"",type:"submit"},null,8,["label"]),l(b,{label:"Cancelar",color:"secondary",class:"full-width",rounded:"",flat:"",to:{name:"aluno"}})]),_:1},8,["onSubmit"])])]),_:1})}var _=h(I,[["render",z]]);export{_ as default};
