import{_ as v,d as S,I as w,aJ as Q,g as P,j as B,l as N,o as U,c as q,w as h,e as n,a,Q as u,K as y,L as E}from"./index.625faa3f.js";import{Q as $}from"./QForm.0e818081.js";import{Q as A}from"./QPage.5ab060c6.js";import{u as C}from"./UseApi.74ae8991.js";import{u as F}from"./UseNotify.d4ee6aa9.js";import"./use-quasar.1eadf056.js";const I=S({name:"PageFormProfessor",setup(){const o="Professor",s=w(),m=Q(),{post:i,getById:d,update:f}=C(),{notifyError:e,notifySuccess:c}=F(),r=P(()=>m.params.id);let p={};const l=B({nome:"",email:"",senha:""});N(()=>{r.value&&V(r.value)});const b=async()=>{try{r.value?(await f(o,l.value),c("Atualizado com Sucesso")):(await i(o,l.value),c("Salvo com Sucesso")),s.push({name:"professor"})}catch(t){e(t.message)}},V=async t=>{try{p=await d(o,t),l.value=p}catch(g){e(g.message)}};return{handleSubmit:b,form:l,isUpdate:r}}}),j={class:"row justify-center"},k=n("div",{class:"col-12 text-center"},[n("p",{class:"text-he"}," Professor ")],-1);function z(o,s,m,i,d,f){return U(),q(A,{padding:""},{default:h(()=>[n("div",j,[k,a($,{class:"col-md-7 col-xs-12 col-sm-12 q-gutter-y-md",onSubmit:E(o.handleSubmit,["prevent"])},{default:h(()=>[a(u,{label:"Name",modelValue:o.form.nome,"onUpdate:modelValue":s[0]||(s[0]=e=>o.form.nome=e),rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"]),a(u,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":s[1]||(s[1]=e=>o.form.email=e),rules:[e=>e&&e.length>0||"Email is required"]},null,8,["modelValue","rules"]),a(u,{label:"Senha",modelValue:o.form.senha,"onUpdate:modelValue":s[2]||(s[2]=e=>o.form.senha=e),rules:[e=>e&&e.length>=6||"Email is required"]},null,8,["modelValue","rules"]),a(y,{label:o.isUpdate?"Atualizar":"Salvar",color:"secondary",class:"full-width",outline:"",rounded:"",type:"submit"},null,8,["label"]),a(y,{label:"Cancelar",color:"secondary",class:"full-width",rounded:"",flat:"",to:{name:"professor"}})]),_:1},8,["onSubmit"])])]),_:1})}var _=v(I,[["render",z]]);export{_ as default};
