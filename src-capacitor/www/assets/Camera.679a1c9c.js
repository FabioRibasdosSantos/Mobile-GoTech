import{_ as n,j as i,o,c,w as l,e as a,K as m,aK as d}from"./index.3716ff62.js";import{Q as u}from"./QPage.6bcf8752.js";import{C as p,a as _}from"./index.d6f49039.js";import{a as g}from"./axios.49e4da64.js";const f={name:"PageCamera",setup(){const e=i(""),t={}.VUE_APP_PLATFORM==="web";async function s(){if(t){console.error("A c\xE2mera n\xE3o est\xE1 dispon\xEDvel no ambiente web.");return}const r=await p.getPicture({video:!0,quality:90,allowEditing:!0,resultType:_.Uri});e.value=r.webPath}return{imageSrc:e,captureImage:s}},methods:{async registrarPresenca(){try{const e=JSON.parse(this.value);await g.post("/registrar-presenca",e),alert("Presen\xE7a registrada com sucesso!")}catch(e){console.error("Erro ao registrar presen\xE7a:",e),alert("Erro ao registrar presen\xE7a. Tente novamente.")}}},mounted(){this.registrarPresenca()}},h={class:"row"},v={class:"col-12 text center"},w={autoplay:"",width:"250rem",ref:"videoplay"},y={class:"col-12 text-center"},C=["src"];function P(e,t,s,r,b,x){return o(),c(u,{padding:""},{default:l(()=>[a("div",h,[a("div",v,[a("video",w,null,512)])]),a("div",y,[e.cameraStart?d("",!0):(o(),c(m,{key:0,label:"Acessar a Camera",color:"secondary",icon:"mdi-camera-iris",onClick:r.captureImage},null,8,["onClick"])),a("img",{src:r.imageSrc},null,8,C)])]),_:1})}var S=n(f,[["render",P]]);export{S as default};
