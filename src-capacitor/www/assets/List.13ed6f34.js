import{Q as w,a as $}from"./QTable.5b775e2d.js";import{_ as C,d as N,j as g,I as V,l as q,o as c,c as m,w as o,e as _,a as s,K as i,aK as y,aH as h}from"./index.3716ff62.js";import{Q as v}from"./QTooltip.81a76ccb.js";import{Q as B}from"./QTd.f966baf3.js";import{Q as E}from"./QPageSticky.2eb95989.js";import{Q as R}from"./QPage.6bcf8752.js";import{u as T}from"./UseApi.8115085a.js";import{u as x}from"./UseNotify.2d23bdf3.js";import{u as z}from"./use-quasar.70d57dbe.js";import"./QList.be1e1ace.js";import"./QSelect.bb2a7487.js";import"./QMenu.6b6d0329.js";import"./format.475b1533.js";import"./use-fullscreen.9481c0a9.js";const L=[{name:"nome",align:"left",label:"Nome",field:"nome",sortable:!0},{name:"actions",align:"right",label:"Presen\xE7a",field:"actions",sortable:!1}],S=N({name:"PageProfessorList",setup(){const e=g([]),r=g(!0),d=V(),l="Professor",f=z(),{list:u,remove:t}=T(),{notifyError:n,notifySuccess:Q}=x(),p=async()=>{try{r.value=!0,e.value=await u(l),r.value=!1}catch(a){n(a.message)}},k=a=>{d.push({name:"form-professor",params:{id:a.id}})},P=async a=>{try{f.dialog({title:"Confirma",message:`Voc\xEA est\xE1 certo de deletar ${a.value.nome} ?`,cancel:!0,persistent:!0}).onOk(async()=>{await t(l,a.value.id),Q("Delete com sucesso"),p()})}catch(b){n(b.message)}};return q(()=>{p()}),{columnsProfessor:L,professor:e,loading:r,handleEdit:k,handleRemoveProfessor:P}}}),A={class:"rows"},K=_("span",{class:"text-h6"}," Professor ",-1);function j(e,r,d,l,f,u){return c(),m(R,{padding:""},{default:o(()=>[_("div",A,[s($,{rows:e.professor,columns:e.columnsProfessor,"row-key":"id",class:"col-12",loading:e.loading},{top:o(()=>[K,s(w),e.$q.platform.is.desktop?(c(),m(i,{key:0,label:"Adicionar",color:"secondary",icon:"mdi-plus",dense:"",to:{name:"form-professor"}})):y("",!0)]),"body-cell-actions":o(t=>[s(B,{props:t,class:"q-gutter-x-sm"},{default:o(()=>[s(i,{icon:"mdi-pencil-outline",color:"info",dense:"",size:"xs",onClick:n=>e.handleEdit(t.row)},{default:o(()=>[s(v,null,{default:o(()=>[h(" Edit ")]),_:1})]),_:2},1032,["onClick"]),s(i,{icon:"mdi-delete-outline",color:"negative",dense:"",size:"xs",onClick:n=>e.handleRemoveProfessor(t.row)},{default:o(()=>[s(v,null,{default:o(()=>[h(" Remove ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),s(E,{position:"bottom-left",offset:[18,18]},{default:o(()=>[e.$q.platform.is.mobile?(c(),m(i,{key:0,fab:"",icon:"mdi-plus",color:"secondary",dense:"",size:"xs",to:{name:"form-professor"}})):y("",!0)]),_:1})]),_:1})}var oe=C(S,[["render",j]]);export{oe as default};
