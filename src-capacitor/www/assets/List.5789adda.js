import{Q as $,a as C}from"./QTable.677203d1.js";import{_ as b,d as N,j as y,I as V,l as q,o as c,c as u,w as e,e as h,a as s,K as l,aK as g,aH as v}from"./index.90546432.js";import{Q as _}from"./QTooltip.bc1e16e9.js";import{Q as B}from"./QTd.0a93544c.js";import{Q as E}from"./QPageSticky.a0ccda2d.js";import{Q as R}from"./QPage.e634f182.js";import{u as T}from"./UseApi.144d8b03.js";import{u as L}from"./UseNotify.c52424fc.js";import{u as P}from"./use-quasar.77f91899.js";import{c as S}from"./table.16c72f17.js";import"./QList.62de27a6.js";import"./QSelect.98b345be.js";import"./QMenu.b9563a48.js";import"./format.13bcb8c4.js";import"./use-fullscreen.94737f19.js";const x=N({name:"PageAlunoList",setup(){const o=y([]),n=y(!0),m=V(),i="Aluno",d=P(),{list:p,remove:t}=T(),{notifyError:r,notifySuccess:Q}=L(),f=async()=>{try{n.value=!0,o.value=await p(i),n.value=!1}catch(a){r(a.message)}},k=a=>{m.push({name:"form-aluno",params:{id:a.id}})},w=async a=>{try{d.dialog({title:"Confirm",message:`Voc\xEA est\xE1 certo de deletar ${a.value.nome} ?`,cancel:!0,persistent:!0}).onOk(async()=>{await t(i,a.value.id),Q("Delete com sucesso"),f()})}catch(A){r(A.message)}};return q(()=>{f()}),{columnsAlunos:S,aluno:o,loading:n,handleEdit:k,handleRemoveAluno:w}}}),z={class:"rows"},K=h("span",{class:"text-h6"}," Alunos ",-1);function j(o,n,m,i,d,p){return c(),u(R,{padding:""},{default:e(()=>[h("div",z,[s(C,{rows:o.aluno,columns:o.columnsAlunos,"row-key":"id",class:"col-12",loading:o.loading},{top:e(()=>[K,s($),o.$q.platform.is.desktop?(c(),u(l,{key:0,label:"Adicionar",color:"secondary",icon:"mdi-plus",dense:"",to:{name:"form-aluno"}})):g("",!0)]),"body-cell-actions":e(t=>[s(B,{props:t,class:"q-gutter-x-sm"},{default:e(()=>[s(l,{icon:"mdi-pencil-outline",color:"info",dense:"",size:"xs",onClick:r=>o.handleEdit(t.row)},{default:e(()=>[s(_,null,{default:e(()=>[v(" Edit ")]),_:1})]),_:2},1032,["onClick"]),s(l,{icon:"mdi-delete-outline",color:"negative",dense:"",size:"xs",onClick:r=>o.handleRemoveAluno(t.row)},{default:e(()=>[s(_,null,{default:e(()=>[v(" Remove ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),s(E,{position:"bottom-left",offset:[15,10]},{default:e(()=>[o.$q.platform.is.mobile?(c(),u(l,{key:0,fab:"",icon:"mdi-plus",color:"secondary",to:{name:"form-aluno"}})):g("",!0)]),_:1})]),_:1})}var so=b(x,[["render",j]]);export{so as default};
