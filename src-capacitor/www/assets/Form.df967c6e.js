import{_ as h,d as w,I as S,aJ as A,g as Q,j as U,l as B,o as N,c as q,w as f,e as n,a as l,Q as u,K as y,L as R}from"./index.3716ff62.js";import{Q as $}from"./QForm.af4af17f.js";import{Q as C}from"./QPage.6bcf8752.js";import{u as E}from"./UseApi.8115085a.js";import{u as F}from"./UseNotify.2d23bdf3.js";import"./use-quasar.70d57dbe.js";const I=w({name:"PageFormAluno",setup(){const a="Aluno",o=S(),m=A(),{post:i,getById:d,update:p}=E(),{notifyError:e,notifySuccess:b}=F(),s=Q(()=>m.params.id);let c={};const r=U({name:"",email:"",ra:""});B(()=>{s.value&&V(s.value)});const v=async()=>{try{s.value?(await p(a,r.value),b("Update Sucesso")):(await i(a,r.value),e("Salvo com Sucesso")),o.push({name:"aluno"})}catch(t){e(t.message)}},V=async t=>{try{c=await d(a,t),r.value=c}catch(g){e(g.message)}};return{handleSubmit:v,form:r,isUpdate:s}}}),j={class:"row justify-center"},k=n("div",{class:"col-12 text-center"},[n("p",{class:"text-he"}," Aluno ")],-1);function M(a,o,m,i,d,p){return N(),q(C,{padding:""},{default:f(()=>[n("div",j,[k,l($,{class:"col-md-7 col-xs-12 col-sm-12 q-gutter-y-md",onSubmit:R(a.handleSubmit,["prevent"])},{default:f(()=>[l(u,{label:"Name",modelValue:a.form.name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.form.name=e),rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"]),l(u,{label:"Email",modelValue:a.form.email,"onUpdate:modelValue":o[1]||(o[1]=e=>a.form.email=e),rules:[e=>e&&e.length>0||"Email is required"]},null,8,["modelValue","rules"]),l(u,{label:"R.A",modelValue:a.form.ra,"onUpdate:modelValue":o[2]||(o[2]=e=>a.form.ra=e),rules:[e=>!!e||"RA is required"],type:"number"},null,8,["modelValue","rules"]),l(y,{label:a.isUpdate?"Atualizar":"Salvar",color:"primary",class:"full-width",rounded:"",type:"submit"},null,8,["label"]),l(y,{label:"Cancelar",color:"primary",class:"full-width",rounded:"",flat:"",to:{name:"aluno"}})]),_:1},8,["onSubmit"])])]),_:1})}var _=h(I,[["render",M]]);export{_ as default};
