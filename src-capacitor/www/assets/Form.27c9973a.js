import{_ as v,d as S,I as w,aJ as Q,g as P,j as U,l as B,o as N,c as q,w as c,e as n,a,Q as u,K as h,L as E}from"./index.90546432.js";import{Q as $}from"./QForm.d30dcdc5.js";import{Q as C}from"./QPage.e634f182.js";import{u as F}from"./UseApi.144d8b03.js";import{u as I}from"./UseNotify.c52424fc.js";import"./use-quasar.77f91899.js";const j=S({name:"PageFormProfessor",setup(){const o="Professor",s=w(),m=Q(),{post:i,getById:d,update:f}=F(),{notifyError:e,notifySuccess:y}=I(),r=P(()=>m.params.id);let p={};const l=U({nome:"",email:"",senha:""});B(()=>{r.value&&V(r.value)});const b=async()=>{try{r.value?(await f(o,l.value),y("Update Sucesso")):(await i(o,l.value),e("Salvo com Sucesso")),s.push({name:"professor"})}catch(t){e(t.message)}},V=async t=>{try{p=await d(o,t),l.value=p}catch(g){e(g.message)}};return{handleSubmit:b,form:l,isUpdate:r}}}),k={class:"row justify-center"},A=n("div",{class:"col-12 text-center"},[n("p",{class:"text-he"}," Professor ")],-1);function M(o,s,m,i,d,f){return N(),q(C,{padding:""},{default:c(()=>[n("div",k,[A,a($,{class:"col-md-7 col-xs-12 col-sm-12 q-gutter-y-md",onSubmit:E(o.handleSubmit,["prevent"])},{default:c(()=>[a(u,{label:"Name",modelValue:o.form.nome,"onUpdate:modelValue":s[0]||(s[0]=e=>o.form.nome=e),rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"]),a(u,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":s[1]||(s[1]=e=>o.form.email=e),rules:[e=>e&&e.length>0||"Email is required"]},null,8,["modelValue","rules"]),a(u,{label:"Senha",modelValue:o.form.senha,"onUpdate:modelValue":s[2]||(s[2]=e=>o.form.senha=e),rules:[e=>e&&e.length>=6||"Email is required"]},null,8,["modelValue","rules"]),a(h,{label:o.isUpdate?"Atualizar":"Salvar",color:"primary",class:"full-width",rounded:"",type:"submit"},null,8,["label"]),a(h,{label:"Cancelar",color:"primary",class:"full-width",rounded:"",flat:"",to:{name:"professor"}})]),_:1},8,["onSubmit"])])]),_:1})}var _=v(j,[["render",M]]);export{_ as default};
